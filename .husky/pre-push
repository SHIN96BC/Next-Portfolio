#!/usr/bin/env bash
. "$(dirname -- "$0")/_/husky.sh"

echo "π” TypeScript νƒ€μ… κ²€μ‚¬ μ¤‘..."

npm run typecheck

status=$?
if [ $status -ne 0 ]; then
  echo ""
  echo "β TypeScript νƒ€μ… κ²€μ‚¬μ—μ„ μ¤λ¥κ°€ λ°κ²¬λμ—μµλ‹λ‹¤. ν‘Έμ‹λ¥Ό μ¤‘λ‹¨ν•©λ‹λ‹¤."
  echo "   μ¤λ¥ λ‚΄μ©μ„ ν™•μΈν•κ³  μμ •ν• λ’¤ λ‹¤μ‹ μ‹λ„ν•΄μ£Όμ„Έμ”."
  echo ""
  exit $status
fi

echo "β… νƒ€μ… κ²€μ‚¬λ¥Ό ν†µκ³Όν–μµλ‹λ‹¤! κ³„μ† μ§„ν–‰ν•©λ‹λ‹¤."

echo "π” μ „μ²΄ ν”„λ΅μ νΈμ— λ€ν•΄ Biome μ½”λ“ κ²€μ‚¬ μ¤‘..."

# μ „μ²΄ μ½”λ“ κ²€μ‚¬ μ‹¤ν–‰
npx biome check .

status=$?
if [ $status -ne 0 ]; then
  echo "β Biome μ½”λ“ κ²€μ‚¬μ—μ„ μ¤λ¥κ°€ λ°κ²¬λμ—μµλ‹λ‹¤. ν‘Έμ‹λ¥Ό μ¤‘λ‹¨ν•©λ‹λ‹¤."
  echo "   μ¤λ¥ λ‚΄μ©μ„ ν™•μΈν•κ³  μμ •ν• λ’¤ λ‹¤μ‹ μ‹λ„ν•΄μ£Όμ„Έμ”."
  exit $status
fi

echo "β… Biome μ½”λ“ κ²€μ‚¬λ¥Ό ν†µκ³Όν–μµλ‹λ‹¤!"

echo "β… λ¨λ“  κ²€μ‚¬λ¥Ό ν†µκ³Όν–μµλ‹λ‹¤! ν‘Έμ‹λ¥Ό κ³„μ† μ§„ν–‰ν•©λ‹λ‹¤."
