@import "tailwindcss";

/* v4에서는 다크모드를 class로 쓰려면 커스텀 variant를 CSS에 선언 */
@custom-variant dark (&:where(.dark, .dark *));

@theme inline {
  /* bg-background / text-foreground 같은 유틸이 생기고,
     실제 CSS엔 var(--bg)/var(--fg)로 출력되어 .dark에서 값이 바뀌면 즉시 반영됨 */
  --color-background: var(--bg);
  --color-foreground: var(--fg);
  --color-primary: var(--primary);
  --color-muted: var(--muted);
  --color-border: var(--border);
}

@theme static {
  --color-primary-light: #c9c4f9;
  --color-primary: #9e95f5;
  --color-primary-dark: #7367f0;
  --color-secondary-light: #69c1ff;
  --color-secondary: #36abff;
  --color-secondary-dark: #0396ff;
}

/* 디자인 토큰(런타임 변경 가능한 CSS 변수) */
:root {
  --bg: #ffffff;
  --fg: #1a1a1a;
  --muted: #f5f5f5;
  --primary: #9e95f5;
  --border: #e5e5e5;
}

:root.dark,
[data-theme="dark"] {
  --bg: #121212;
  --fg: #f5f5f5;
  --muted: #2b2b2b;
  --primary: #7367f0;
  --border: #333333;
}

/* 사용자 에이전트에도 힌트 */
html {
  color-scheme: light dark;
}

body {
  background: var(--color-background);
  color: var(--color-foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* dialog modal backdrop */
dialog::backdrop {
  background: rgb(0 0 0 / 30%);
}

@keyframes fadeIn {
  to {
    opacity: 0.35;
  }
}
@keyframes pulse {
  50% {
    opacity: 0.15;
  }
}

.link-hint {
  display: inline-block;
  width: 0.6em;
  height: 0.6em;
  margin-left: 0.25rem;
  border-radius: 9999px;
  background: currentColor;
  opacity: 0;
  visibility: hidden; /* reserve space without showing the hint */
}

.link-hint.is-pending {
  /* Animation 1: fade in after 100ms and keep final opacity */
  /* Animation 2: subtle pulsing while pending */
  visibility: visible;
  animation-name: fadeIn, pulse;
  animation-duration: 200ms, 1s;
  /* Appear only if navigation actually takes time */
  animation-delay: 100ms, 100ms;
  animation-timing-function: ease, ease-in-out;
  animation-iteration-count: 1, infinite;
  animation-fill-mode: forwards, none;
}
